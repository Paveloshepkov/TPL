# TPL
 Курсовая работа и лабараторные по предмету "Теория языков программирования и методы трансляции"
# Описание методов
Метод transformGrammar
Метод отвечает за трансформацию данной грамматики с учетом определенных условий и пользовательского ввода. Метод выполняет серию проверок для правил грамматики, после чего приступает к трансформации, если проверки успешно пройдены. Трансформация может включать в себя генерацию цепочек и построение Детерминированного Конечного Автомата (ДКА), если выполнены определенные условия.
 Компоненты метода:
1. Объявление переменных:
    - String key: Содержит ключ (нетерминальный символ) из грамматики.
    - boolean isTerm, isGrammar, isCorrect: Булевы флаги для различных проверок.
    - String failMessage: Сообщение, которое будет отображаться в случае ошибки.
    - finalStates, beginLeftState: Строковые переменные, используемые для хранения некоторой информации о состоянии.
2. Удаление правил:
    - chainsGeneration.removeAllRules(): Очищает любые существующие правила из объекта chainsGeneration.
3. Обработка типа вывода:
    - checkInference: Определяет тип вывода (левосторонний или правосторонний) на основе ввода пользователя.
4. Обработка правил грамматики:
    - Метод перебирает строки основной модели грамматики.
    - Выполняются проверки для каждого символа правил грамматики, чтобы убедиться, что они действительны в соответствии с определенными условиями.
    - Если найдены недопустимые символы, метод устанавливает isCorrect в false и записывает сообщение об ошибке.
5. Добавление описания правил:
    - Добавляет описания правил в объект chainsGeneration, который, вероятно, представляет собой некоторое представление грамматики.
6. Валидация грамматики:
    - isGrammar = customChecker.checkRegularGrammar(chainsGeneration, checkInference): Проверяет грамматику с использованием специального проверочного инструмента. Результат сохраняется в переменной isGrammar.
7. Трансформация и дополнительная обработка:
    - Если грамматика корректна и допустима:
        - chainsGeneration.generateChains(): Генерирует цепочки на основе грамматики.
        - В зависимости от выбранного типа вывода (leftInference или rightInference) вызываются методы transformLeftGrammar() или transformRightGrammar() для дополнительных трансформаций.
        - Включает кнопку (buildDKA), вероятно, для построения Детерминированного Конечного Автомата.
8. Обработка ошибок:
    - Если есть ошибки в грамматике или проверка не проходит, отображается диалоговое окно с соответствующим сообщением об ошибке.

Метод transformLeftGrammar
Этот метод transformLeftGrammar предназначен для преобразования грамматики с использованием левостороннего вывода. Давайте разберем его описание и принципы работы:
 Метод transformLeftGrammar:
1. Объявление переменных:
    - int length: Длина строки правила грамматики.
    - int newNonTerms: Количество новых нетерминальных символов, которые нужно добавить.
    - String key: Ключ (нетерминальный символ) текущего правила.
    - String bufRule: Буфер для хранения подстроки текущего правила.
    - StringBuilder resultRules: Строитель строки для хранения результата преобразования.
    - boolean isLastTerm: Флаг, указывающий, является ли последний символ в правиле терминальным.
2. Очистка состояния:
    - finalStates = "": Очистка переменной finalStates.
    - bufferForTransform.clear(): Очистка буфера для преобразования.
3. Обход правил грамматики:
    - Цикл по ключам (нетерминальным символам) в словаре правил грамматики.
    - Вложенный цикл по каждому правилу для текущего ключа.
4. Обработка случая пустого правила:
    - Если правило пусто, добавляется вертикальная черта (|), и текущий ключ добавляется к beginLeftState.
5. Обработка однозначного правила:
    - Если правило имеет длину 2 и первый символ является нетерминальным, оно добавляется с вертикальной чертой.
6. Обработка более длинных правил:
    - Если правило имеет длину более 2 символов, генерируются новые нетерминальные символы и производится преобразование.
7. Преобразование правила:
    - Для каждого нового нетерминала генерируется новое правило и добавляется в буфер для преобразования.
    - Происходит итеративное преобразование, пока не останется один символ в правиле.
8. Добавление результатов в таблицу:
    - Результат преобразования для текущего ключа добавляется в transformedGrammarModel.
    - Результаты также добавляются в transformedMap для последующего использования.
9. Обработка буфера для преобразования:
    - Проход по буферу преобразования и добавление результатов в таблицу и transformedMap.

Метод addNewKey:
Этот метод addNewKey предназначен для генерации нового нетерминального символа, который ещё не используется в грамматике.
1. Цель метода:
   - Сгенерировать новый нетерминальный символ, который ещё не встречается в словаре правил грамматики или буфере для преобразования.
2. Описание работы:
   - Создаётся пустая строка key, которая будет содержать новый нетерминальный символ.
   - Проходит по первым 26 нетерминальным символам (в данном случае, буквам A-Z).
   - Если символ не присутствует в словаре правил грамматики и не содержится в буфере для преобразования, то этот символ выбирается в качестве нового ключа (key).
   - Возвращается сгенерированный новый ключ.
3. Примечание:
   - Данный метод ограничен 26 буквами (A-Z) в качестве возможных нетерминальных символов.
Этот метод будет полезен при генерации новых нетерминальных символов в процессе левостороннего преобразования грамматики. 
Метод createDKA
Этот метод, createDKA, отвечает за создание Детерминированного Конечного Автомата (ДКА) на основе преобразованной грамматики.
1. Обзор метода:
   - Устанавливает флаг needToTransform в значение false.
   - Инициализирует карты состояний (statesMap) и символов (symbolsMap).
   - Создает массив переходов (transitions) для ДКА.
   - Вызывает методы для построения ДКА в зависимости от типа вывода (левосторонний или правосторонний).
2. Инициализация карт и массивов:
   - statesMap: Карта для отображения нетерминальных символов в их индексы.
   - symbolsMap: Карта для отображения терминальных символов в их индексы.
   - transitions: Массив переходов для ДКА.
3. Построение ДКА:
   - Определяет индексы для состояний и символов.
   - Вызывает методы для построения ДКА в зависимости от типа вывода.
4. Проверка на необходимость дополнительного преобразования:
   - Проверяет, содержатся ли в массиве переходов более чем один символ в каждой ячейке.
   - Если да, устанавливает флаг needToTransform в true и вызывает метод transformToDKA.
5. Обработка случая необходимости дополнительного преобразования:
   - Если флаг needToTransform установлен в true, вызывается метод transformToDKA.
6. Завершение построения ДКА:
   - Если не требуется дополнительное преобразование:
      - Для левостороннего вывода, создает новый массив переходов (newTransitions).
      - Копирует значения из исходного массива.
      - Вызывает методы для добавления новых состояний и обработки конечных состояний.
      - Выводит состояния в консоль или пользовательский интерфейс.
 Примечание:
   - Метод работает с картами состояний и символов, массивом переходов, а также вызывает другие методы для построения и обработки ДКА.
Этот метод является ключевым для построения Детерминированного Конечного Автомата на основе преобразованной грамматики. 
Метод buildLeftSideGrammarToDKA
Этот метод, buildLeftSideGrammarToDKA, отвечает за построение Детерминированного Конечного Автомата (ДКА) для левосторонней грамматики.
1. Описание работы:
   - Инициализирует начальное состояние (start) и добавляет его в список конечных состояний (finalStates).
   - Перебирает ключи и значения в преобразованной грамматике и строит соответствующие переходы в ДКА.
   - Переходы строятся на основе символов в правилах грамматики.
2. Инициализация начального состояния:
   - Получает начальное состояние из генератора цепочек (chainsGeneration.getStartNonTerm()).
   - Добавляет первый символ начального состояния в список конечных состояний (finalStates).
3. Построение переходов в ДКА:
   - Итерирует по ключам и значениям в transformedMap.
   - Для каждого символа в правиле:
      - Если символ терминальный и имеет длину 1, добавляет его к переходам в конечное состояние.
      - Если символы в правиле не являются пустыми, строит переходы на основе символов.
4. Оптимизация порядка символов в переходах:
   - Перебирает состояния и оптимизирует порядок символов в соответствующих переходах с использованием метода customChecker.rearrangeInOrder.
5. Вывод цепочек:
   - Формирует список цепочек из генератора цепочек и выводит их.
 Примечание:
   - Метод строит ДКА, основываясь на левосторонней грамматике, формируя переходы и оптимизируя порядок символов.
Этот метод является частью процесса построения Детерминированного Конечного Автомата для левосторонней грамматики.
Метод transformToDKA
Этот метод, transformToDKA, выполняет дополнительное преобразование Детерминированного Конечного Автомата (ДКА), если в исходных переходах обнаружены состояния с более чем одним символом в каждой ячейке.
1. Описание работы:
   - Создает новый массив переходов newTransitions для модификации ДКА.
   - Копирует значения из исходного массива transitions в newTransitions.
   - Добавляет новые состояния и обрабатывает переходы для устранения неоднозначности.
2. Инициализация нового массива переходов:
   - Создает новый двумерный массив newTransitions размером [n][длина алфавита].
   - Копирует значения из оригинального массива transitions в newTransitions.
3. Добавление новых состояний:
   - Вызывает метод addNewStates, который добавляет новые состояния в newTransitions.
4. Исключение непригодных состояний:
   - Вызывает метод exceptNonEntryStates, который исключает непригодные состояния из newTransitions.
5. Добавление новых конечных состояний:
   - Вызывает метод addNewFinalStates, который добавляет новые конечные состояния в newTransitions.
6. Вывод состояний пользователю:
   - Выводит состояния и переходы в консоль или пользовательский интерфейс с использованием метода printStatesToUser.
 Примечание:
   - Этот метод обрабатывает неоднозначности в переходах ДКА, добавляя новые состояния и обновляя переходы.
Этот метод является частью процесса построения Детерминированного Конечного Автомата и дополнительного преобразования в случае неоднозначности.
Метод addNewStates
Этот метод, addNewStates, отвечает за добавление новых состояний в Детерминированный Конечный Автомат (ДКА) при дополнительном преобразовании.
1. Описание работы:
   - Создает новые состояния и обновляет переходы в ДКА для устранения неоднозначности.
   - Добавляет новые состояния как результат дополнительного преобразования.
2. Инициализация переменных:
   - counter: Счетчик для новых состояний.
   - oldState: Временная переменная для хранения старого состояния при обновлении переходов.
   - result: Временная переменная для формирования новых переходов.
3. Добавление новых состояний:
   - Перебирает переходы в новом массиве состояний.
   - Если состояние не было добавлено ранее и не пусто, добавляет его в словарь состояний (statesMap).
   - Обновляет новые переходы, используя метод customChecker.rearrangeInOrder.
4. Обработка особых случаев:
   - Обрабатывает особые случаи в зависимости от типа вывода (левосторонний или правосторонний).
   - Для левостороннего вывода проверяет и добавляет начальное состояние.
   - Возвращает false и выводит сообщение об ошибке, если не удалось построить состояния.
5. Добавление новых состояний в словарь:
   - Добавляет новые состояния в словарь состояний (statesMap).
6. Цикл добавления новых состояний:
   - Добавляет новые состояния в цикле, пока не будет достигнуто необходимое количество новых состояний.
7. Возврат результата:
   - Возвращает true в случае успешного добавления новых состояний.
 Примечание:
   - Этот метод является частью процесса дополнительного преобразования Детерминированного Конечного Автомата при обнаружении неоднозначности.
Этот метод возвращает true в случае успешного добавления новых состояний, иначе возвращает false.
Метод exceptNonEntryStates
Этот метод, exceptNonEntryStates, отвечает за исключение непригодных состояний в Детерминированном Конечном Автомате (ДКА) после дополнительного преобразования.
1. Описание работы:
   - Исключает состояния, которые не являются достижимыми из начального состояния.
   - Обновляет словарь состояний, исключая непригодные состояния.
2. Инициализация переменных:
   - currentCount: Текущее количество состояний.
   - isNewState: Количество новых состояний.
   - bufStatesDictionary: Временная мапа для хранения информации о состояниях.
3. Инициализация мапы состояний:
   - Создает временную мапу состояний (bufStatesDictionary), инициализируя ее значениями из statesMap.
4. Инициализация начального состояния:
   - Если тип вывода - левосторонний (checkInference == 1), добавляет начальное состояние в мапу состояний.
   - В противном случае, добавляет начальное состояние из генератора цепочек.
5. Цикл исключения непригодных состояний:
   - Использует цикл для обновления мапы состояний (bufStatesDictionary).
   - Перебирает каждое состояние в мапе состояний и добавляет все его переходы в мапу.
   - Обновляет isNewState с учетом новых состояний.
6. Обновление мапы состояний:
   - Обновляет мапу состояний (resultMap), оставляя только те состояния, которые были помечены как достижимые.
 Примечание:
   - Этот метод обновляет мапу состояний, исключая те, которые не могут быть достигнуты из начального состояния.
Этот метод применяется после построения ДКА для исключения непригодных состояний, чтобы получить минимальный по числу состояний автомат.

Метод addNewFinalStates
Этот метод, addNewFinalStates, отвечает за добавление новых конечных состояний в Детерминированный Конечный Автомат (ДКА) после дополнительного преобразования.
1. Описание работы:
   - Перебирает состояния из resultDictionary и добавляет их в конечные состояния, если они присутствуют в оригинальном наборе конечных состояний.
2. Инициализация переменных:
   - buffer: Массив строк, созданный разделением строки finalStates по запятой.
3. Цикл добавления новых конечных состояний:
   - Перебирает каждое состояние из мапы resultDictionary.
   - Проверяет, не является ли ключ пустым.
   - Для каждого символа в разделенной строке finalStates проверяет, присутствует ли этот символ в текущем состоянии.
   - Если символ найден в текущем состоянии, добавляет это состояние в конечные состояния.
 Примечание:
   - Этот метод используется для обновления конечных состояний ДКА после дополнительного преобразования.
Этот метод применяется после исключения непригодных состояний для обновления конечных состояний в ДКА.

Метод printStatesToUser
Этот метод, printStatesToUser, отвечает за вывод состояний Детерминированного Конечного Автомата (ДКА) в пользовательский интерфейс.
1. Описание работы:
   - Очищает модель таблицы (DKAModel) и создает новые колонки для вывода состояний и переходов по символам алфавита.
   - Заполняет таблицу данными из resultMap и массива состояний transform.
2. Инициализация переменных:
   - DKAModel: Модель таблицы, используемая для отображения состояний и переходов в пользовательском интерфейсе.
3. Очистка модели таблицы и добавление колонок:
   - Устанавливает количество строк в модели таблицы в 0.
   - Добавляет колонки для каждого символа из алфавита.
4. Цикл по состояниям в resultMap:
   - Перебирает каждое состояние из resultMap.
   - Проверяет, не является ли ключ пустым.
   - Создает вектор данных rowData для текущего состояния.
   - Добавляет текущее состояние и его переходы по символам алфавита в модель таблицы.
 Примечание:
   - Этот метод предназначен для отображения таблицы состояний и переходов в пользовательском интерфейсе.
Этот метод обычно вызывается после построения ДКА и обновления состояний, чтобы отобразить результаты в пользовательском интерфейсе.

Метод checkDKA
Этот метод, checkDKA, отвечает за проверку входной цепочки в Детерминированном Конечном Автомате (ДКА).
1. Описание работы:
   - Инициализирует начальное состояние в соответствии с выбором пользователя.
   - Перебирает символы входной цепочки, применяя функцию перехода transformFunction для каждого символа.
   - Отображает промежуточные состояния в текстовом виде и сообщает о результате разпознавания.
2. Инициализация переменных:
   - isStop: Флаг, указывающий на остановку процесса разпознавания.
   - isFinal: Флаг, указывающий на достижение конечного состояния.
   - newState: Состояние после применения функции перехода.
   - currentState: Текущее состояние в процессе разпознавания.
   - list: Список для хранения промежуточных состояний и входной цепочки.
3. Цикл по символам входной цепочки:
   - Проверяет наличие символа в алфавите, иначе выводит сообщение об ошибке.
   - Применяет функцию перехода transformFunction для текущего символа и текущего состояния.
   - Добавляет новое состояние и оставшуюся часть цепочки в список.
4. Проверка на остановку и достижение конечного состояния:
   - Проверяет флаг isStop и, при необходимости, прерывает процесс разпознавания.
   - Если не было остановки, проверяет, достиг ли автомат конечного состояния.
   - Выводит соответствующее сообщение о результате разпознавания.
5. Отображение промежуточных состояний:
   - Выводит промежуточные состояния в текстовом виде.
Этот метод обычно вызывается для проверки входной цепочки пользователем в пользовательском интерфейсе после построения и преобразования ДКА.

Метод transformFunction
Этот метод, transformFunction, является функцией перехода для Детерминированного Конечного Автомата (ДКА). Он применяет переход из текущего состояния по заданному символу алфавита.
1. Описание работы:
   - Проверяет, нужно ли применять новые переходы (needToTransform).
   - Получает новое состояние после применения перехода из текущего состояния по заданному символу.
   - Если новое состояние пусто, выводит сообщение об ошибке.
2. Инициализация переменных:
   - symbol: Текущий символ алфавита для применения перехода.
   - currentState: Текущее состояние для применения перехода.
   - newState: Новое состояние после применения перехода.
3. Проверка на необходимость использования новых переходов:
   - Если флаг needToTransform установлен в true, использует новые переходы из newTransitions, иначе использует оригинальные переходы из transitions.
4. Получение нового состояния:
   - Использует индексы текущего состояния и символа алфавита, чтобы получить новое состояние.
5. Проверка на пустоту нового состояния:
   - Если новое состояние пусто, устанавливает флаг isStop в true и выводит сообщение об ошибке.
6. Возвращение нового состояния:
   - Возвращает новое состояние после применения перехода.
Этот метод обычно вызывается внутри метода checkDKA для каждого символа входной цепочки с целью определения следующего состояния.
Скриншоты работы программы
![image](https://github.com/Paveloshepkov/TPL/assets/32362643/3d7692ae-76ff-4d30-8e79-f47b1a52da6f)
![image](https://github.com/Paveloshepkov/TPL/assets/32362643/34604057-1557-4a3d-8149-f7882e3dbbf5)
![image](https://github.com/Paveloshepkov/TPL/assets/32362643/902af893-cb6d-4576-b4d4-f5d7dfb9cb2f)



  
 
